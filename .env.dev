# fn-posts Development Environment Configuration for GKE

# Service Configuration
PORT=8080
ENVIRONMENT=development

# Database (Supabase PostgreSQL - Dev Project)
DATABASE_URL=${DATABASE_URL}  # Injected from Kubernetes secret
POSTGRES_URL=${DATABASE_URL}
SUPABASE_URL=https://your-dev-project.supabase.co
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}
SUPABASE_JWT_SECRET=${SUPABASE_JWT_SECRET}

# Google Cloud Storage (using Workload Identity)
BUCKET_PROJECT_ID=findly-now-dev
BUCKET_NAME=findly-posts-dev
# No credentials needed - using Workload Identity
GOOGLE_APPLICATION_CREDENTIALS=""
BUCKET_CDN_DOMAIN=""

# Kafka (Confluent Cloud - Dev Cluster)
KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS}
KAFKA_API_KEY=${KAFKA_API_KEY}
KAFKA_API_SECRET=${KAFKA_API_SECRET}
KAFKA_TOPIC=posts.events
KAFKA_BATCH_SIZE=100
KAFKA_BATCH_TIMEOUT=10ms
KAFKA_RETRIES=3
KAFKA_ACKS=1

# JWT Authentication
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRY=7d

# Feature Flags
FEATURE_ANALYTICS_ENABLED=false
FEATURE_REAL_TIME_UPDATES=true
FEATURE_IMAGE_OPTIMIZATION=true
FEATURE_THUMBNAIL_GENERATION=false

# Monitoring
LOG_LEVEL=debug
LOG_FORMAT=text
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
TRACING_ENABLED=false
TRACE_SAMPLE_RATE=0.01

# Performance (reduced for dev)
MAX_UPLOAD_SIZE=10MB
REQUEST_TIMEOUT=60s
IDLE_TIMEOUT=300s
DB_MAX_CONNECTIONS=20
DB_IDLE_CONNECTIONS=5